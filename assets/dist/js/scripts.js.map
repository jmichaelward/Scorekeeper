{"version":3,"sources":["webpack:///webpack/bootstrap 20c6e56972044981c329","webpack:///./compose.js","webpack:///./main_app.js","webpack:///./Scorekeeper.js"],"names":["app","run","Scorekeeper","numPlayers","timeout","document","getElementById","value","instructions","playersList","formInput","getNumPlayers","innerHTML","i","createPlayerNameInput","appendChild","previous","next","classList","remove","add","li","createElement","label","labelText","input","setAttribute","createTextNode","playerList","players","querySelectorAll","setTimeout","length","scoreUpdateListener","clearTimeout","bind","submit","addEventListener","updateScoreOnSubmit","e","preventDefault","scoreUpdate","current","querySelector","currentScore","nextElementSibling","newScore","parseInt","newSum","isNaN","style","color","setCurrentPlayer","listenNewCurrentPlayer","initScoreUpdater","player","target","matches","parentNode","contains","createPlayerList","eventHandlers"],"mappings":"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","file":"scripts.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 20c6e56972044981c329","import \"./main_app.js\";\n\n\n// WEBPACK FOOTER //\n// ./compose.js","import Scorekeeper from \"./Scorekeeper\";\n\nlet app = (()=> {\n  // Initialize\n  app = new Scorekeeper;\n\n  app.run();\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./main_app.js","class Scorekeeper {\n  constructor() {\n    this.numPlayers = 0;\n    this.timeout    = null;\n  }\n\n  getNumPlayers() {\n    let numPlayers = document.getElementById('num-players');\n\n    return numPlayers.value;\n  }\n\n  createPlayerList() {\n    let instructions = document.getElementById('instructions'),\n        playersList  = document.getElementById('players-list'),\n        formInput;\n\n    if (!playersList || !instructions) {\n      return;\n    }\n\n    this.numPlayers = this.getNumPlayers();\n\n    instructions.innerHTML = 'Please enter a name for each player.';\n\n    for (let i = 1; i <= this.numPlayers; i++) {\n      formInput = this.createPlayerNameInput(i);\n      playersList.appendChild(formInput);\n    }\n  }\n\n  setCurrentPlayer(previous, next) {\n    // Set next player to the active player\n    previous.classList.remove('current');\n    next.classList.add('current');\n  }\n\n  createPlayerNameInput(i) {\n    let li    = document.createElement('li'),\n        label = document.createElement('label'),\n        labelText,\n        input = document.createElement('input');\n\n    li.classList.add('players-list__player');\n\n    label.setAttribute('for', 'player-' + i);\n    labelText = document.createTextNode('Player ' + i + ' Name: ');\n    label.appendChild(labelText);\n\n    input.setAttribute('type', 'text');\n    input.setAttribute('id', 'player-' + i);\n    input.setAttribute('name', 'player-name[]');\n    input.classList.add('player-name');\n\n    li.appendChild(label);\n    li.appendChild(input);\n\n    return li;\n  }\n\n  initScoreUpdater() {\n    let playerList = document.getElementById('players'),\n        players;\n\n    if (!playerList) {\n      return;\n    }\n\n    players = playerList.querySelectorAll('li');\n\n    this.timeout = setTimeout(function () {\n      if (players.length > 0) {\n        players[0].classList.add('current');\n      }\n\n      if (document.getElementById('submit-update')) {\n        this.scoreUpdateListener();\n        clearTimeout(this.timeout);\n      }\n    }.bind(this), 500);\n  }\n\n  scoreUpdateListener() {\n    let submit = document.getElementById('submit-update');\n\n    submit.addEventListener('click', this.updateScoreOnSubmit.bind(this), false);\n  }\n\n  updateScoreOnSubmit(e) {\n    e.preventDefault();\n    let scoreUpdate  = document.getElementById('score-update'),\n        current      = document.querySelector('.current'),\n        currentScore = current.querySelector('.score'),\n        next         = current.nextElementSibling,\n        newScore     = parseInt(scoreUpdate.value),\n        newSum;\n\n    if (isNaN(newScore)) {\n      newScore = 0;\n    }\n\n    newSum = newScore + parseInt(currentScore.value);\n\n    // Update score for current player\n    currentScore.value       = newSum;\n    currentScore.style.color = newSum < 0 ? 'red' : 'inherit';\n\n    // Reset score updater input for next update\n    scoreUpdate.value = '';\n\n    // Set next to the first player if at the end of the list\n    if (!next) {\n      next = document.querySelectorAll('.player')[0];\n    }\n\n    this.setCurrentPlayer(current, next);\n  }\n\n  eventHandlers() {\n    this.listenNewCurrentPlayer();\n    this.initScoreUpdater();\n  }\n\n  /**\n   * Set selected user to current user on click\n   */\n  listenNewCurrentPlayer() {\n    let playerList = document.getElementById('players');\n\n    if (!playerList) {\n      return false;\n    }\n\n    playerList.addEventListener('click', function (e) {\n      let player,\n          current;\n\n      if (e.target.matches('.player')) {\n        player = e.target;\n      }\n      else if (e.target.parentNode.classList.contains('player')) {\n        player = e.target.parentNode;\n      }\n      else {\n        player = e.target.parentNode;\n\n        while (!player.classList.contains('player')) {\n          player = player.parentNode;\n        }\n      }\n\n      if (!player) {\n        return;\n      }\n\n      if (player.classList.contains('player') && !player.classList.contains('current')) {\n        current = document.querySelector('.current');\n        this.setCurrentPlayer(current, player);\n      }\n    }.bind(this), false);\n  }\n\n  /**\n   * Wrapper for initialization methods\n   */\n  run() {\n    this.createPlayerList();\n    this.eventHandlers();\n  }\n}\n\nexport default Scorekeeper;\n\n\n// WEBPACK FOOTER //\n// ./Scorekeeper.js"],"sourceRoot":""}