"use strict";!function(){function a(){this.numPlayers=0,this.timeout=null}var b;a.prototype.getNumPlayers=function(){var a=document.getElementById("num-players");return a.value},a.prototype.createPlayerList=function(){var a,b=document.getElementById("instructions"),c=document.getElementById("players-list");if(c&&b){this.numPlayers=this.getNumPlayers(),b.innerHTML="Please enter a name for each player.";for(var d=1;d<=this.numPlayers;d++)a=this.createPlayerNameInput(d),c.appendChild(a)}},a.prototype.setCurrentPlayer=function(a,b){a.classList.remove("current"),b.classList.add("current")},a.prototype.createPlayerNameInput=function(a){var b,c=document.createElement("li"),d=document.createElement("label"),e=document.createElement("input");return c.classList.add("players-list__player"),d.setAttribute("for","player-"+a),b=document.createTextNode("Player "+a+" Name: "),d.appendChild(b),e.setAttribute("type","text"),e.setAttribute("id","player-"+a),e.setAttribute("name","player-name[]"),e.classList.add("player-name"),c.appendChild(d),c.appendChild(e),c},a.prototype.initScoreUpdater=function(){var a,b=document.getElementById("players");b&&(a=b.querySelectorAll("li"),this.timeout=setTimeout(function(){a.length>0&&a[0].classList.add("current"),document.getElementById("submit-update")&&(this.scoreUpdateListener(),clearTimeout(this.timeout))}.bind(this),500))},a.prototype.scoreUpdateListener=function(){var a=document.getElementById("submit-update");a.addEventListener("click",this.updateScoreOnSubmit.bind(this),!1)},a.prototype.updateScoreOnSubmit=function(){var a,b=document.getElementById("score-update"),c=document.querySelector(".current"),d=c.querySelector(".score"),e=c.nextElementSibling,f=parseInt(b.value);isNaN(f)&&(f=0),a=f+parseInt(d.value),d.value=a,d.style.color=0>a?"red":"inherit",b.value="",e||(e=document.querySelectorAll(".player")[0]),this.setCurrentPlayer(c,e)},a.prototype.eventHandlers=function(){this.listenNewCurrentPlayer(),this.initScoreUpdater()},a.prototype.listenNewCurrentPlayer=function(){var a=document.getElementById("players");return a?void a.addEventListener("click",function(a){var b,c;if(a.target.matches(".player"))b=a.target;else if(a.target.parentNode.classList.contains("player"))b=a.target.parentNode;else for(b=a.target.parentNode;!b.classList.contains("player");)b=b.parentNode;b&&b.classList.contains("player")&&!b.classList.contains("current")&&(c=document.querySelector(".current"),this.setCurrentPlayer(c,b))}.bind(this),!1):!1},a.prototype.run=function(){this.createPlayerList(),this.eventHandlers()},b=new a,b.run()}();